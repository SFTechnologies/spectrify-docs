import Image from 'next/image'
import ImageLink from '/components/ImageLink';
export const imagePath = "/images/preprocessing/";

## Offset
<hr />
<br />
<Image src={`${imagePath}offset_icon.svg`} alt="offset icon" width={65} height={65} />

Offset correction is a useful preprocessing technique in spectral analysis that helps to remove constant or systematic shifts in the spectral data. These shifts can be caused by various factors, such as instrumental drift, sample preparation variations, or differences in background conditions. By correcting for these offsets, the spectral data becomes more consistent and comparable, which can improve the accuracy and reliability of subsequent analyses, such as classification, quantification, or pattern recognition.

### To intensity (Minimun based offset)

Vertical offset correction involves shifting the entire spectrum up or down by a constant value to align it with a specific intensity level. This is done by finding the minimum intensity value in the spectrum and then adding or subtracting a user-defined value to all data points, so that the minimum value reaches the desired intensity level.

- **Intensity Level**: The user specifies the desired intensity level to which the minimum value of the spectrum should be aligned.

Let X be a spectrum with n data points x1, x2, ..., xn. The vertical offset correction is applied by:

1. Finding the minimum value in the spectrum: 
   ```
   x_min = min(x1, x2, ..., xn)
   ```
2. Calculating the offset value:
   ```
   offset = intensity_level - x_min
   ```
3. Adding the offset value to each data point: 
   ```
   x_i_corrected = x_i + offset, for i = 1, 2, ..., n
   ```

>You have a spectrum representing the absorption of a sample at different wavelengths. Due to some instrumental factors, the spectrum has a constant shift of 0.1 units. To correct for this, you can apply a vertical offset correction by setting the intensity level to 0. The minimum value in the spectrum will be found and subtracted from all data points, effectively shifting the entire spectrum down by 0.1 units, so that the minimum value becomes 0.
>

### From wavenumber (Custom point offset)

Horizontal offset correction involves shifting the spectrum left or right along the x-axis (energetic range) so that the intensity value at a specific x-value becomes zero. This is done by finding the intensity value at the user-defined x-value and then subtracting this value from all data points in the spectrum.

- **X-Value**: The user specifies the x-value (energetic range) at which the intensity should be set to zero.

Let X be a spectrum with n data points (x1, y1), (x2, y2), ..., (xn, yn), where xi represents the x-value (energetic range) and yi represents the corresponding intensity value. The horizontal offset correction is applied by:

1. Finding the intensity value at the specified x-value:
   ```
   y_offset = yi, where xi = x_value
   ```
3. Subtracting the offset intensity from each data point:
   ```
   y_i_corrected = y_i - y_offset, for i = 1, 2, ..., n
   ```
>You have a spectrum representing the emission of a sample at different energies. The spectrum has a non-zero intensity value at the energy level where you expect no emission. To correct for this, you can apply a horizontal offset correction by setting the x-value (energy) to the expected zero-emission level. The intensity value at this x-value will be subtracted from all data points in the spectrum, effectively shifting the spectrum vertically so that the intensity at the specified x-value becomes zero.
>


<br />
<hr />
<br />
<ImageLink href="/preprocessing/standardization" image={{alt: "standardization icon", src: `${imagePath}standardization_icon.svg`}} text="Standardize" />
<br />
<ImageLink href="/preprocessing/baseline_correction" image={{alt: "baseline correction icon",src: `${imagePath}baseline_icon.svg`}} text="Baseline" />
<br />
<ImageLink href="/preprocessing/smoothing" image={{alt: "smoothing icon", src: `${imagePath}smoothing_icon.svg`}} text="Smooth" />
<br />
<ImageLink href="/preprocessing/normalization" image={{alt: "normalization icon", src: `${imagePath}normalization_icon.svg`}} text="Normalize" />
<br />
<ImageLink href="/preprocessing/peak_detection" image={{alt: "peak detection icon", src: `${imagePath}peak_detection_icon.svg`}} text="Peaks" />
<br />
<ImageLink href="/preprocessing/offset" image={{alt: "offset icon", src: `${imagePath}derivative_icon.svg`}} text="Derivative" />