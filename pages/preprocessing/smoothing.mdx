import Image from 'next/image'
import ImageLink from '/components/ImageLink';
export const imagePath = "/images/preprocessing/";

## Smoothing
<hr />
<br />
<Image src={`${imagePath}smoothing_icon.svg`} alt="smoothing icon" width={65} height={65} />

Spectral smoothing is a technique used in signal processing to reduce noise while preserving important patterns in the data. Most common spectral smoothing method is Savitzky-Golay filter.

### Savitzky-Golay filter

DOI: https://doi.org/10.1021/ac60214a047

Widely used technique for smoothing data, particularly in spectral analysis. It works by performing a local polynomial regression on a series of equally spaced data points to determine the smoothed value for each point. The main advantage of this approach is that it tends to preserve important features of the original signal, such as relative maxima and minima, and the widths of peaks.

It has two main parameters:

- **Window Size**: This parameter determines the number of data points used for the local polynomial regression. The window size must be an odd number because it requires a central point for calculations. A larger window size generally results in more smoothing but may also lead to the loss of important signal features.

- **Polynomial Order**: This parameter specifies the degree of the polynomial used for the local regression. The polynomial order must be less than the window size. A lower polynomial order typically results in more smoothing but may also distort the signal shape.

Let X be a signal with n data points x1, x2, ..., xn. The Savitzky-Golay filter computes the smoothed value y_i for each point x_i by performing a local polynomial regression within a window of size 2m+1 centered at x_i. The polynomial coefficients are determined by minimizing the sum of squared differences between the polynomial and the data points within the window.

The smoothed value y_i is then calculated as the value of the fitted polynomial at the central point x_i:

```
y_i = a_0 + a_1*(x_i - x_c) + a_2*(x_i - x_c)^2 + ... + a_p*(x_i - x_c)^p
```
Where x_c is the central point of the window, p is the polynomial order, and a_0, a_1, ..., a_p are the polynomial coefficients determined by the least-squares fit.

>Imagine you have a noisy signal representing the concentration of a chemical in a solution over time. You want to smooth out the noise while preserving the overall trend and any important features, such as peaks or valleys. The Savitzky-Golay filter can help you achieve this by fitting a small polynomial curve to a sliding window of data points. For example, if you choose a window size of 9 and a polynomial order of 3, the filter will fit a cubic polynomial to every set of 9 consecutive data points and use the value of that polynomial at the center point as the smoothed value. This process is repeated for each point in the signal, resulting in a smoothed version that retains the overall shape and important features while reducing the noise.
>

<br />
<hr />
<br />
<ImageLink href="/preprocessing/standardization" image={{alt: "standardization icon", src: `${imagePath}standardization_icon.svg`}} text="Standardize" />
<br />
<ImageLink href="/preprocessing/baseline_correction" image={{alt: "baseline correction icon",src: `${imagePath}baseline_icon.svg`}} text="Baseline" />
<br />
<ImageLink href="/preprocessing/offset" image={{alt: "offset icon", src: `${imagePath}offset_icon.svg`}} text="Offset" />
<br />
<ImageLink href="/preprocessing/normalization" image={{alt: "normalization icon", src: `${imagePath}normalization_icon.svg`}} text="Normalize" />
<br />
<ImageLink href="/preprocessing/peak_detection" image={{alt: "peak detection icon", src: `${imagePath}peak_detection_icon.svg`}} text="Peaks" />
<br />
<ImageLink href="/preprocessing/offset" image={{alt: "offset icon", src: `${imagePath}derivative_icon.svg`}} text="Derivative" />